{% extends 'base.html' %}

{% block title %}Rallye des Colocs{% endblock %}

{% block jumbotron_title %}<a href="{# TODO https://www.facebook.com/events/1899140316784594/ #}" target="_blank">Rallye des Colocs</a>{% endblock %}
{% block jumbotron_description %}Mardi 18 Juin 2019, de 19h à 23h30, réservé aux étudiants de G4 !{% endblock %}

{% block content %}
<h3>
    La carte des Hôtes !
    <small>
        <a href="https://www.google.fr/maps/dir/Institut+G4+LYON,+Lyon/107+Avenue+Barth%C3%A9l%C3%A9my+Buyer,+69005+Lyon/51+Rue+Magenta,+Villeurbanne/22+Rue+Branly,+69100+Villeurbanne/81+Rue+Jean+Jaur%C3%A8s,+69100+Villeurbanne,+France/@45.7636736,4.8062735,13z/data=!3m1!4b1!4m57!4m56!1m5!1m1!1s0x47f4ea96c16ba51f:0x504f5fbc80d6d324!2m2!1d4.7988958!2d45.7713309!1m30!1m1!1s0x47f4eb9c31914d17:0x8c9ee679bb86afc3!2m2!1d4.8017183!2d45.7625299!3m4!1m2!1d4.8047089!2d45.7657709!3s0x47f4eb75f2afe453:0xe348377a029b64e2!3m4!1m2!1d4.8324873!2d45.7583991!3s0x47f4ea5390ffc891:0x816e41e57b66e065!3m4!1m2!1d4.8343648!2d45.767171!3s0x47f4eafec49dd6cf:0xb857e7d271bb4870!3m4!1m2!1d4.8382362!2d45.7686141!3s0x47f4eafbd6783d09:0x940f601430ab36d6!3m4!1m2!1d4.8729047!2d45.7707482!3s0x47f4ea82be922433:0x67622d8d39385db0!1m5!1m1!1s0x47f4ea823c4fc255:0x6e6268af76b3f75b!2m2!1d4.8713223!2d45.7679731!1m5!1m1!1s0x47f4c02f0f2f5127:0xfab1fe7455be29d!2m2!1d4.8814244!2d45.7698233!1m5!1m1!1s0x47f4c1cc4aaecef5:0x32102abdb7a7f150!2m2!1d4.8848239!2d45.7582187!3e2" target="_blank">
            <i class="fa fa-arrow-right"></i> itinéraire sur Google Map
        </a>
    </small>
</h3>
<div id="map"></div>
<div class="hotes">
    <div class="hote">
        <span class="number">1</span>
        <h2>Antoine Clancier <small>(Toinou)</small></h2>
        <h4>Y a pas de nom dsl :(</h4>
        <p><i>Numéro de téléphone</i> : <a href="tel:+33675027978">06 75 02 79 78</a></p>
        <p>
            <i>Adresse</i> : <a target="_blank" href="https://goo.gl/maps/JNrLHRedV9ofQT5c8">107 Avenue Barthélémy Buyer <i class="fa fa-external-link"></i></a><br>
            <i>Accès TCL depuis G4</i> : marcher 25 minutes dans la direction indiqué par votre GPS :p<br>
            <i>Informations</i> : appeller par facebook pour qu'il ouvre le portail
        </p>
    </div>
    <div class="hote">
        <span class="number">2</span>
        <h2>Tom Masson <small>(MadLife)</small></h2>
        <h4>La Destination Finale</h4>
        <p><i>Numéro de téléphone</i> : <a href="tel:+33652087510">06 52 08 75 10</a></p>
        <p>
            <i>Adresse</i> : <a target="_blank" href="https://goo.gl/maps/eVp3y3Kaj9CxSnRk6">51 rue Magenta <i class="fa fa-external-link"></i></a><br>
            <i>Accès TCL depuis chez Toinou</i> : Métro D jusqu'à Bellecour, puis métro A direction Carré de Soie, arrêt <b>République</b>.<br>
            <i>Informations</i> : 2ème étage, code entrée : 869
        </p>
    </div>
    <div class="hote">
        <span class="number">3</span>
        <h2>Mathieu Chorier <small>(ReggaeSark)</small></h2>
        <h4>Babylone</h4>
        <p><i>Numéro de téléphone</i> : <a href="tel:+33624756228">06 24 75 62 28</a></p>
        <p>
            <i>Adresse</i> : <a target="_blank" href="https://goo.gl/maps/nuiRhm5SJEX4ybTV8">22 rue Branly <i class="fa fa-external-link"></i></a><br>
            <i>Accès depuis chez Tom</i> : 1 arrêt de métro A (<b>Gratte-Ciel)</b> ou 15 minutes à pied.<br>
            <i>Informations</i> : Sonner à Perronnet/Chapiteau, 3ème étage
        </p>
    </div>
    <div class="hote">
        <span class="number">2</span>
        <h2>Benjamin Bernard-Bouissières <small>(BBB)</small></h2>
        <h4>Le Tribunal</h4>
        <p><i>Numéro de téléphone</i> : <a href="tel:+33605041666">06 05 04 16 66</a></p>
        <p>
            <i>Adresse</i> : <a target="_blank" href="https://goo.gl/maps/14d67VYZw4XrfcXv9">81 rue Jean Jaurès</a><br>
            <i>Accès TCL depuis chez Matthieu</i> : Bus C26 jusqu'à <b>Grandclément</b> ou bien marcher 20 minutes.<br>
            <i>Informations</i> : 2ème étage, code ascenseur : 1305
        </p>
    </div>
</div>
<script>
// Initialize and add the map
function initMap() {
    var lyon = {lat: 45.7635, lng: 4.83};
    var map = new google.maps.Map(document.getElementById('map'), {zoom: 13, center: lyon});

    var steps = [
        {lat: 45.7713346, lng: 4.799},  // G4
        {lat: 45.76255, lng: 4.8017},  // Toinou
        {lat: 45.7679, lng: 4.8713283},  // Tom
        {lat: 45.7699, lng: 4.8815},  // Mathieu
        {lat: 45.7582, lng: 4.8846299}  // BBB
    ];
    var path = new google.maps.Polyline({
        path: steps,
        geodesic: true,
        strokeColor: '#FF0000',
        strokeOpacity: 1.0,
        strokeWeight: 2
    });
    path.setMap(map);

    var allWindows = [];

    var g4 = new google.maps.Marker(
        {position: steps[0], map: map, title: 'Institut G4', animation: google.maps.Animation.DROP,
        label: '0'}
    );
    var g4Window = new google.maps.InfoWindow({content: '<div><h4>0. Institut G4</h4></div>'});
    allWindows.push(g4Window);
    g4.addListener('click', function() {
        closeAllWindows();
        g4Window.open(map, g4);
    });

    var toinou = new google.maps.Marker(
        {position: steps[1], map: map, title: 'Chez Toinou', animation: google.maps.Animation.DROP,
        label: '1'}
    );
    var toinouWindow = new google.maps.InfoWindow(
        {content: '<div><h4>1. Toinou</h4><p>107 Avenue Barthélémy Buyer<br><a href="tel:+33640605718">06 40 60 57 18</a></p></div>'}
    );
    allWindows.push(toinouWindow);
    toinou.addListener('click', function() {
        closeAllWindows();
        toinouWindow.open(map, toinou);
    });

    var tom = new google.maps.Marker(
        {position: steps[2], map: map, title: 'Chez Tom', animation: google.maps.Animation.DROP,
        label: '2'}
    );
    var tomWindow = new google.maps.InfoWindow(
        {content: '<div><h4>2. Tom</h4><p>51 rue Magenta<br><a href="tel:+33652087510">06 52 08 75 10</a></p></div>'}
    );
    allWindows.push(tomWindow);
    tom.addListener('click', function() {
        closeAllWindows();
        tomWindow.open(map, tom);
    });

    var mathieu = new google.maps.Marker(
        {position: steps[3], map: map, title: 'Chez Mathieu', animation: google.maps.Animation.DROP,
        label: '3'}
    );
    var mathieuWindow = new google.maps.InfoWindow(
        {content: '<div><h4>3. Mathieu</h4><p>22 rue Branly<br><a href="tel:+33624756228">06 24 75 62 28</a></p></div>'}
    );
    allWindows.push(mathieuWindow);
    mathieu.addListener('click', function() {
        closeAllWindows();
        mathieuWindow.open(map, mathieu);
    });

    var bbb = new google.maps.Marker(
        {position: steps[4], map: map, title: 'Chez BBB', animation: google.maps.Animation.DROP,
        label: '4'}
    );
    var bbbWindow = new google.maps.InfoWindow(
        {content: '<div><h4>4. BBB</h4><p>81 rue Jean Jaurès<br><a href="tel:+33605041666">06 05 04 16 66</a></p></div>'}
    );
    allWindows.push(bbbWindow);
    bbb.addListener('click', function() {
        closeAllWindows();
        bbbWindow.open(map, bbb);
    });

    /**
     * Close all the info windows on the map
     */
    function closeAllWindows() {
        allWindows.forEach(function (window) {
            window.close();
        })
    }
}
</script>
<!--Load the API from the specified URL
* The async attribute allows the browser to render the page while the API loads
* The key parameter will contain your own API key (which is not needed for this tutorial)
* The callback parameter executes the initMap() function
-->
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC9uAZiNr9tAg4Y_Vc3xvlpFsCVBB2goEw&callback=initMap">
</script>
{% endblock %}