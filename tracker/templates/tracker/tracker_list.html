{% extends 'tracker/base_tracker.html' %}

{% load fontawesome %}

{% block tracker_title %}Mes trackers{% endblock %}

{% block stylesheet %}
    {{ block.super }}
    {{ form.media.css }}
{% endblock %}

{% block content %}
    <div class="flex-container">
        {% for tracker in trackers %}
            <div class="flex-item">
                <a href="{{ tracker.get_absolute_url }}">
                    <div class="text-center" style="background-color: {{ tracker.color }}; padding: 5px 10px">
                        <h1>{% fontawesome_icon tracker.icone %}</h1>
                        <h3>{{ tracker.nom }}</h3>
                        <div>{{ tracker.tracks.count }} tracks</div>
                    </div>
                </a>
            </div>
        {% empty %}
            <div>Pas de tracker enregistré.</div>
        {% endfor %}
    </div>
    <hr>
    <div class="row">
        <div class="col-sm-8 col-sm-offset-2 col-xs-12">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <h3>Créer un nouveau tracker</h3>
                </div>
                <div class="panel-body">
                    <form method="post">
                        {% csrf_token %}
                        <table class="table table-striped table-bordered">
                            {{ form.as_table }}
                        </table>
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary">Ok</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascript %}
    {{ block.super }}
    {{ form.media.js }}
{% endblock %}